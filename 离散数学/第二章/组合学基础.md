# 组合学基础

## 计数原理

* 加法原理：**一个**集合可以被恰好**划分**成复数个互斥的子集，那么这些集合中的元素的总和为原集合的元素数量。
* 乘法原理：在**复数**个集合中每个集合都选取一个元素组成一个序列，可能的序列状态的个数为所有集合元素个数的乘积。

> 注：还有一种来自正难则反的思想的原理，即减法原理，在实际问题中非常实用。它通过求解问题的全集和我们希望求解的子问题的集合的差集并将它们作差得到希望求解的子问题集合。

## 计数问题

* 计数问题希望解决的问题无非就是两类：排列和组合，即有序的选择方法数和无序的选择方法数。
* 为了区分物体是否可以重复，方便的做法是区分从集合选择还是从多重集（元素可重复的集合）选择。

### 排列数

* 在含 $n$ 个元素的集合中取 $k$ 个元素组成**有序序列**的方法数。

$$
P(n, k) = \dfrac{n!}{(n - k)!}
$$

且对于 $n \ge 0$，定义 $P(n, 0) = 1$

### 组合数

* 在含 $n$ 个元素的集合中选取一个含 $k$ 个元素的**子集**的方法数。

$$
\binom{n}{k} = \dfrac{n!}{(n - k)!k!} = \dfrac{P(n, k)}{k!}
$$

且对于 $n \ge 0$ 定义 $\binom{n}{0} = 1$。它于排列数的关系是显然的，因为排列数本质是在做这样一件事情：从 $n$ 个元素中取 $k$ 个，然后进行全排列。

### 推论

* 帕斯卡递推公式

$$
\binom{n}{k} = \binom{n}{k - 1} + \binom{n - 1}{k - 1}
$$

可以这样理解这个递推式：对于所有从 $n$ 个元素的集合 $A$ 中取 $k$ 个元素的方法来说，选取 $A$ 中任意一个 $x$ 作为基准，那么总方法集合可以被划分成两个互斥的子集

（1）包含这个 $x$ 的选取方法都可以被归约到“从 $A/ \{x\}$ 中选取 $k - 1$ 个元素”再与 $x$ 合并的方法数。
（2）不包含这个 $x$ 的选取方法都可以被规约到“从 $A/ \{x\}$ 中选取 $k$ 个元素”的方法数。

> 注：组合学的证明往往可以从两个方向入手：将总方法集合进行划分并对总方法集合和它的划分分别进行组合学解释；直接拆开公式进行证明。

* 组合数和公式

$$
\sum_{k = 0}^n\binom{n}{k} = 2^n
$$

证明的话，也是像上面一样的办法：等号右边表示在 $n$ 个元素的集合中，每种方法是这样一个序列，这个集合的每个元素要么在序列中要么不在。那么，这些方法可以被划分成这样 $n$ 个互斥的集合：有 $1$ 个集合元素在序列中的方法、有 $2$ 个集合元素在序列中的方法 $\cdots$ 有 $n$ 个元素在集合中的方法。每个划分实际上就是一个组合数。

* 组合数等价互斥集

$$
\binom{n}{k} = \binom{n}{n - k}
$$

因为组合数是**无序选择**，因此我们不妨把组合的生成看成这样一个过程，即将一个集合划分成两个互斥的子集。显然，某个这样的划分对于这两个子集来说是同一种方法。

### 多重集的排列

* 多重集是一种特殊的集合，这种集合允许含有多个不可区分的相同元素。多重集的排列问题的重点在于考虑原始排列数公式导致的重复方法数问题，或者具体地说，当复数个不可区分的元素相邻排列时，它们的交换不会产生新方法。

> 多重集的一个例子： $S = \{2\cdot a, 1\cdot b, 3\cdot c\}$，它表示含两个 $a$，一个 $b$ 和三个 $c$ 的多重集。

> 对于一个每个元素都为无限个的多重集，假设他有 $n$ 种可区分的元素，那么它的 $k$ 排列为 $n ^ k$。

## 例题

