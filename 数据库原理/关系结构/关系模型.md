---

mindmp-plugin: basic

---

# 关系模型

## 关系模型的设计

- 概念设计：把用户需求转换成模式（schema）即 E-R 模型
- 逻辑设计：把抽象的模式应用到数据模型（data model）上
- 物理设计：数据库的存储介质

## 事务处理

- 目的
	- 处理并发请求
	- 处理故障

## 数据库系统结构

- 关系数据库
	- 特性
		- 关系型数据库包含一组表（tables），每个表都被分配了唯一的名字
		- 每个表含有数个包含表头的列（column）
			- 列名/属性：表头的每列称为属性（attribute）
			- 属性域（attibute domain）：一个属性的允许取值集合
			- 空值（null）：特殊值，任何一个属性域都包含
			- 原子性（atomic）：每个元组（tuple）在一个属性上只能取一个值，*通常要求*
		- 每个表都有一些行（row），每行记录信息
	- 关系（relation，relationship）
		- 笛卡尔积：类似组合，如 $\{A, B\}\times \{D, E\} = \{AD, AE, BD, BE\}$
		- relationship：所有属性的笛卡尔积中的一个元素（一行代表一个 relationship）
		- relation：所有属性的笛卡尔积的一个子集（一个 table 代表一个 relation），是无序的
	- 关系模式（relation schema）
		- $R = (A_1, A_2, \cdots, A_n)$ 是一个关系模式
			- 用大写首字母表示
			- 是一组属性名
			- 用于初始化表头
		- $r(R)$ 是 $R$ 上的一个 relation
			- 用小写字母表示
			- 用于初始化表格数据内容
	- 键（keys）
		- 定义：一个或多个能够区分开每个对象（笛卡尔积的所有元素）的属性，即一个关系模式（relation schema）的特殊子集
		- 分类
			- 超键（superkey）：只要一个键能够区分每个对象（entity，就是一个行），它就是超键
			- 候选键（candidate key）：极小的超键，即关系模式的一个能够区分所有对象的**极小**子集
				- 例子：比如仅学号就能区分所有学生，它自己就是候选键，而（学号，姓名）是超键
			- 主键（primary key）：人为选取的候选键，用于实际工作中区分不同对象，用下划线表示
			- 外键（foreign key）：一个表中含有另一个表中的主键，这个键在该表中就称为外键
				- 功能：用于跨表链接
				- 含外键的关系称为 referencing relation
				- 被链接主键的关系称为 referenced relation
	- 关系模式图（schema diagram）
		- 一个体现 tables，schema，keys（表内信息和表间关系） 的网状图
		- relation 用方框
		- 主键下划线
		- 外键用箭头链接
	- 关系查询语言（relational query language）
		- 功能：用户从数据库获取信息
		- 类型
			- 选择（selection）：选择输入关系中的一些满足要求的行，符号 $\sigma$，如 $\sigma_{A=B\ and\ D > 5}(r)$
			- 投射（projection）：选择输入关系中的一些列构成新关系并去重，符号 $\pi$，如 $\pi_{A, C}(r)$
			- 连接（join）：笛卡尔积的满足条件的子集，是两个表拼接起来（按列合并），符号 $\bowtie$
				- 一般连接
				- 等值连接
				- 自然连接：两表有相同属性，连接时**去掉两表中相同的属性其中的一个再用等值连接法**（两表一对对象在两表相同的属性上皆取相同值即等值）连接
			- 交：两个关系进行交操作（所有属性值都相等才相等），符号 $\cap$
			- 并（union）：类比交，符号 $\cup$
			- 差：符号 $-$
			- 笛卡尔积（Cartesian product）：两个关系的对象（元组）集合直积，符号 $\times$
- 分类
	- 中心化（centralized）：运行在单一计算机上
	- 服务器/客户端（client-server）
	- 并行（Parallel）
	- 分布式（Distributed）