# 关系数据库设计

## 函数依赖

- 定义：属性 $\alpha\rightarrow\beta\in R\Leftrightarrow$ 任意 $R$ 的实例 $r$ 中的任意两行 $t_1, t_2$ 都满足 $t_1[\alpha]=t_2[\alpha]\Rightarrow t_1[\beta]=t_2[\beta]$
	- 如果 $\beta\subseteq \alpha$，那么 $\alpha\rightarrow\beta$ 是平凡的（trival），否则是非平凡（non-trival）的
	- $\alpha\rightarrow R$ 也可以存在
	- 超码、候选码可以用该概念定义
	- 函数依赖必须对所有合法数据成立：某个时刻表的数据可能满足某函数依赖，但该函数依赖不一定对所有合法数据成立
- 函数依赖集：若干个函数依赖的集合
	- 关系 $r$ 满足依赖集 $F$
	- 关系模式 $R$ 满足依赖集 $R$：$R$ 的所有关系 $r$ 都满足

## 闭包

- 属性集的闭包
	- 定义：$\alpha^+ = \{\beta\vert\alpha\rightarrow\beta\}$
	- 算法
	- 特性
		- 判断属性集是否超码：$R\subseteq \alpha^+$ 则 $\alpha$ 是超码
		- 判断函数依赖是否成立：$\beta\subseteq\alpha^+$ 是否成立
- 函数依赖集的闭包
	- 定义：由函数依赖集 $F$ 可推断出的所有**函数依赖所组成的集合**，记作 $F^+$。（属性集是属性组成的集合）
	- 特性
		- $A\rightarrow B, B\rightarrow C\Rightarrow A\rightarrow C$
		- $F\subseteq F^+$
	- 计算闭包
		- Armstrong公理
			- 图图
		- 利用属性集的闭包
			- 对关系模式 $R$ 的每一个子集 $S$：为 $S^+$ 的每一个子集 $T$，输出函数依赖 $S\rightarrow T$
	- 等价关系
		- 定义：$F_1,F_2$ 能够互相推导
		- $F_1=F_2\Leftrightarrow F_1^+ = F_2^+$
	- 最小覆盖：函数依赖集的最小形式
