---

mindmap-plugin: basic

---

# 刚体位姿描述与空间变换

## 基本概念
- 涉及坐标系
  - 刚体坐标系
  - 参考坐标系
- 定义
  - 刚体的位置：刚体坐标系**原点**在参考坐标系中的坐标
  - 刚体的姿态：刚体坐标系**各轴指向**在参考坐标系中的表示
  - 刚体的位姿：刚体的位置和姿态

## 表示方法
- 姿态矩阵
  - 方法：用刚体三轴（在参考坐标系下）的方向矢量构建矩阵
    - 旋转变换矩阵 $R$：按列向量构建
    - 方向余弦矩阵 $C$：按行向量构建，故 $R = C^T$
  - 注意：
    - 任何一个 $^Ax_B$ 都表示「$B$ 在 $A$ 系中的表示」、「$A$ 系到 $B$ 系的变换」
    - $(^AR_B)^{-1} = (^AR_B)^Y =~^BR_A$
    - 可合成
    - 机器人学用 $R$，航空航天用 $C$
- 姿态角
  - 欧拉角：三次基本旋转的角度，一个矢量
  - 基本旋转：**绕坐标轴**旋转有限角度，可与姿态变换矩阵建立一一对应关系 $R_x(\phi), R_y(\phi), R_z(\phi)$
  - 旋转顺序
    - 第一类欧拉角都转：xyz, xzy, yxz, yzx, zxy, zyx
    - 第二类欧拉角转俩：xyx, xzx, yxy, yzy, zxz, zyz
  - 转法
    - 定轴欧拉角：绕老轴转
    - 动轴欧拉角：绕新轴转
  - 计算
    - 根据姿态矩阵求欧拉角
      - 动轴 xyz
        - 奇异条件 $\beta = \pm\dfrac{\pi}{2}$，$\alpha \pm \gamma = \arctan 2(\pm a_{21}, a_{22})$
        - $$\left\{\begin{aligned}&\beta = \arcsin a_{13}\ or\ \pi-\arcsin a_{13}\\&\alpha = \arctan2(-a_{23}/c_\beta, a_{33}/c_\beta)\\&\gamma=\arctan2(-a_{12}/c_\beta, a_{11}/c_\beta)\end{aligned}\right.$$
      - 动轴 zxz
        - 奇异条件 $\beta = 0, \pi$，只能求 $\alpha \pm \gamma = \arctan 2(a_{21}, a_{11})$
        - $$\left\{\begin{aligned}&\beta = \arccos a_{33}\ or\ -\arccos a_{33}\\&\alpha = \arctan2(a_{13}/s_\beta, -a_{23}/s_\beta)\\&\gamma=\arctan2(a_{31}/s_\beta, a_{32}/s_\beta)\end{aligned}\right.$$
      - 定轴 xyz
        - 又称 RPY （roll, pitch, yaw）角
        - 有专门定义 $\Phi = (\Phi, \theta, \varphi)$
        - 麻了这解，不写了自己看去
      - 注
        - $R = [a_{ij}]$
        - 奇异是因为转角被抵消
    - 根据欧拉角求姿态矩阵
      - 定轴欧拉角：绕老轴转，从右向左乘
      - 动轴欧拉角：绕新轴转，从左向右乘
- 轴-角表示法
  - 三次