# 8086处理器

## 存储器

- 寻址空间：地址总线的位数决定可以索引多大的内存空间，多少位CPU
- 存储格式
	- 字节：偶地址（最低位A0=0）、奇地址
	- 字：16位，存放在两个连续的字节单元中
		- 高字节：高8位
		- 低字节：低8位
	- 双字：四个字节
- 地址
	- 段地址：16位
	- 偏移地址：16位
	- 物理地址：段地址x16+偏移地址
	- 偏移地址的形成就是物理地址把最低位变成0然后抹掉得到段地址，再用物理地址与段地址作差得到
- 分段结构
	- 代码段（CS）
	- 数据段（DS）
	- 堆栈段（SS）
	- 附加数据段（ES）

## 8086内部结构

- 爷的图图呢
	- 总线接口部件BIU
		- CS：正在运行的程序所在段的段地址
		- DS：数据所在段的段地址
		- SS：堆栈段的段地址
		- ES：附加段的段地址
		- IP：指令指针，用于存放下一条将要执行的指令在代码段中的偏移地址
	- 执行元件EU
		- 既可以存8位，又可以存16位
			- AX：累加器
			- BX：基址寄存器
			- CX：循环或串处理指令中的隐含寄存器
			- DX：泛用
		- 地址指针和变址寄存器
			- SP：堆栈段偏移地址
			- BP：数据**在堆栈段中的**起始地址，段地址由SS提供
			- SI、DI：间接寻址
	- FLAGS寄存器
		- CF
		- PF
		- AF
		- ZF
		- SF
		- OF
		- DF
		- IF
		- TF

## 工作周期

- 时钟周期：一个时钟脉冲的时间，主频定
- 总线周期：通过总线对存储器或外设I/O接口进行一次访问的时间
	- 四个时钟周期，第一个由CPU输出地址，后三个传输数据
	- 内部中断
	- 外部中断
- 指令周期：总线周期组成

## 中断系统

- 外部中断
	- 可屏蔽中断
	- 非屏蔽中断
- 内部中断（软件中断）
	- 除法错误中断（0）：除数为0/最大值溢出
	- 溢出中断（4）：算数运算溢出
	- 单步中断（1）：用于程序调试
	- 断点中断（3）：设置断点
- 中断向量与中断向量表
	- 中断类型码：如09H
	- 中断向量：中断服务程序的入口地址，包括段地址（高字单元）和偏移地址
	- 中断向量表：**中断服务程序入口地址**
		- 按中断类型码从小到大按顺序存放各类中断的中断向量
		- 在内存的00000H～003FFH地址范围内，大小为1KB
		- 中断向量占用4 Bytes，低字为段内偏移地址，高字为段基址
		- 存放位置：类型码 x 4位置及之后的三个存储单元（共4）
- 中断处理过程
	- 中断请求、中断排队、中断响应、中断处理、中断返回
	- 可屏蔽中断
	- 非屏蔽中断和软件中断
	- 中断类型码的形成
- 优先级（高到低）：软件中断(除单步中断外)、非屏蔽中断、可屏蔽中断、单步中断

## 总线结构

- 工作模式
	- 最小模式：单处理器
	- 最大模式：多处理器协同
- 引脚复用
	- 按时复用
	- 按模式复用
- 引脚意义：全部40个都要记住（逆天）
	- 地址总线
	- 数据总线
	- 状态信号